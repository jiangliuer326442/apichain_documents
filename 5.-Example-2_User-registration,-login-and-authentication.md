This tutorial builds on the basic usage explained in the previous article, taking the common enterprise login, registration, and authentication process as an example to ensure that the user login and registration functionalities remain issue-free during project deployment and regression testing.

## Initialization

Create a new project. See the image below for details, which will not be elaborated on here.

![用户管理——项目列表](./images/Apichain_2025-09-24_06-45-43.png)

Create a new iteration. See the image below for details, which will not be elaborated on here.

![用户演示项目——迭代](./images/Apichain_2025-09-24_06-56-37.png)

Configure the project's API call address prefix as `https://pay.apichain.app/test/user/`

![演示项目——配置接口地址](./images/Apichain_2025-09-24_06-58-32.png)

## User Registration

From the iteration entry, navigate to the network request sending page with the API endpoint `register`. The submitted data is as follows:

- **userName**    {{$randomString}}
- **password**    {{$randomString}}
- **email**    {{$randomEmail}}
- **age**    {{$randomAge}}

This time, we used the built-in functions supported by ApiChain. You can view the list of all supported functions by typing `{{$`. For a complete list of supported built-in functions, refer to this link.

![用户注册——网络请求](./images/Apichain_2025-09-24_07-05-45.png)

From the response message, we can see that after registration, the response header (`responseHeader`) contains a JWT used for login authentication. The response body indicates successful registration and includes the registered user’s information. Let’s first save it to the API documentation.

![保存用户注册1](./images/Apichain_2025-09-24_07-09-27.png)

All these parameters are required. The **age** field is a number, while the others are strings. The response header contains the JWT, which we will use as the token for login. Click Save.

## Retrieve User Avatar by Nickname

The API endpoint is  `avatar/`, with the following path variables:

```
nickname:Mustafa
```

![获取头像](./images/Apichain_2025-09-24_07-30-10.png)

Click Send Request, and you’ll see the URI becomes `avatar/{{nickname}}`. In practice, this is just a convention, and you can adjust it based on the actual position of `{{nickname}}` . The API returns an image, which you can save to the iteration documentation.

## Retrieve Logged-in User Information

From the iteration documentation, locate the newly added user registration API and click the Send button.

![发送用户注册接口](./images/Apichain_2025-09-24_07-31-57.png)

Click the Send Request button (at this point, you’ll notice the benefit of non-repeating random values; continue registering without making any changes). Click the Copy button to copy the returned JWT, paste it into a notepad, as it will be used in the subsequent steps.

The API endpoint is `get-login-user` , with the header parameter key as **Authorization** and the value as **bearer. eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIyIiwic3ViIjoiQXBpQ2hhaW5fMmQzODMxZDgtMzFmMS00OTg4LWEzMDktNTFjYmE0NjQ0ODc2IiwiaWF0IjoxNzU4NjcwNDMwLCJleHAiOjE3NTg2NzQwMzB9.TLaBhWTpT3UzLKoUO3c7rJFiPAw2EWErX1ZXvLInQGA** ，Exactly, the value is **bearer** followed by the JWT you just copied and saved.

![获取当前登录的用户](./images/Apichain_2025-09-24_07-36-45.png)

Click the Send Request button, and you can see that user information can be retrieved using this authentication token, which is valid for 30 minutes. Click the Save button to add our second API to the iteration documentation.

![登录鉴权——保存接口](./images/Apichain_2025-09-24_07-39-18.png)

## User Login via application/json

This demo supports login using either email + password or username + password, with data submitted in `application/json` format.

The request payload for email + password login is:

```json
{
	"type": "by_email",
	"email": "username@email.com",
	"password": "password"
}
```

The request payload for username + password login is:

```json
{
	"type": "by_uname",
	"userName": "userName",
	"password": "password"
}
```

![register sample user](./images/Apichain_2025-09-24_08-10-18.png)

The API endpoint is `login`, with the header `content-type` set to `application/json`. Paste the request payload into the body section, and you can send a login request.

![application/json](./images/Apichain_2025-09-24_08-11-23.png)

![application/json根据邮箱登录](./images/Apichain_2025-09-24_08-12-08.png)

This completes an application/json network request. Click the Save button to add it to the iteration documentation.

![application/json方式登录——保存](./images/Apichain_2025-09-24_08-14-50.png)

## User Login via jsonString

In actual development, we often encounter scenarios where a form field parameter is a JSON-formatted payload. When writing unit tests, we need to automatically construct such JSON payloads. To support this, our demo also allows login data to be submitted via jsonString.

The API endpoint is `login-by-jsonstring`, with the parameter `str`of type `jsonString`. An example is as follows:

```json
{
	"type": "by_email",
	"email": "username@email.com",
	"password": "password"
}
```

![json登录](./images/Apichain_2025-09-24_08-18-28.png)

Save it to the iteration documentation, selecting json string as the parameter type during saving.

![json登录——保存](./images/Apichain_2025-09-24_08-20-22.png)

At this point, all APIs related to user registration, login, and authentication have been added to the iteration documentation.

![用户管理接口列表](./images/Apichain_2025-09-24_08-21-30.png)

![文档——接口列表](./images/Apichain_2025-09-24_08-29-03.png)

![接口文档详情](./images/Apichain_2025-09-24_08-30-17.png)